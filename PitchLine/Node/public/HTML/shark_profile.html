<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="../CSS/shark_profile.css">
    <script src="../JS/jquery-1.8.2.min.js"></script>

    <script>
        $(document).ready(function(){
            $("#fetchbtn").click(function(){
                var email=$("#idemail").val();
                alert(email);
                var urlWithData="/JSONsearchrecord?emailkuch="+email;

                $.getJSON(urlWithData,function(resp){
                    if(resp.length==0)
                    {
                        alert("Invalid ID");
                    }
                    alert(JSON.stringify(resp));
                    $("#idemail").val(resp[0].email);
                    $("#nameid").val(resp[0].pname);
                    $("#idemail").val(resp[0].contact);
                    $("#addressid").val(resp[0].Address);
                    $("#occupationid").val(resp[0].occupation);
                    $("#cityid").val(resp[0].City);
                    
                    $("#proPrev").attr("src","public/uploads/"+resposeJSONAry[0].Profilepic);
                    $("#addPrev").attr("src","public/uploads/"+resposeJSONAry[0].Aadharpic);
                    
                   
                    $("#categoriesid").val(resp[0].categories);
                    $("#companyid").val(resp[0].companycount);
                    $("#amountid").val(resp[0].amount);
                    $("#additionalid").val(resp[0].Additional);

                });

            })

        })

    </script>
</head>

<body>
    <div class="Form" >
        <form enctype="multipart/form-data" method="post">
            <input type="hidden" name="profilepic" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            <input type="hidden" name="aadharpic"  class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            <H1> Profile</H1>
            <!-- Email -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Email address</label>
                <input type="email"  id="idemail" name="txtemail" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
            </div>
            <!-- Name -->
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Name</label>
                <input type="text" id="nameid" name="txtname" class="form-control" id="exampleInputPassword1">
            </div>
            <!-- Contact -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Contact No.</label>
                <input type="text" id="contactid" name="txtcontact" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            </div>
            <!-- Address -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Address</label>
                <input type="text" id="addressid" name="txtaddress" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            </div>
            <!-- Occupations -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Occupations</label>
                <input type="text" id="occupationid" name="txtoccupations" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            </div>
            <!-- City  -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">City</label>
                <input type="text" id="cityid" name="txtcity" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            </div>
             <!-- Profile Pic -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Profile Pic</label>
                <input type="file" name="profilepic" class="form-control" id="profileid" aria-describedby="emailHelp">
                <p>
                    <img src="" alt="" id="proPrev" width="100" height="100">
                </p>

            </div>
            <!-- Aadhar Pic -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Aadhar Pic</label>
                <input type="file" name="aadharpic" class="form-control" id="aadharid" aria-describedby="emailHelp">
                <p>
                    <img src="" alt="" id="addPrev" width="100" height="100">
                </p>
            </div>
            <!-- categories -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Categories</label>
                <select class="form-select" aria-label="Default select example" name="txtcategories" id="categoriesid">
                    <option selected>Open this select menu</option>
                    <option value="IT">IT</option>
                    <option value="PHARMA">PHARMA</option>
                    <option value="Mechanical">Mechanical</option>
                    <option value="Food">Food</option>
                    <option value="Electronic">Electronic</option>
                  </select>
            </div>
            <!-- comapines -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Companies invested(approx.)</label>
                <input type="number" id="companyid" name="txtcompanies" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            </div>
            <!-- Amount -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Amount invested(approx.)</label>
                <input type="number" id="companyid" name="txtamount" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            </div>
            <!-- other -->
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Other Info.</label>
                <input type="text" id="additionalid" name="txtother" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" >
            </div>
            
        
            <button type="submit" class="btn btn-primary" value="Save" formaction="/shark/Save-profile">Save</button>
            <button type="submit" class="btn btn-primary" value="Update" formaction="/shark/update-profile">Update</button>
            <button type="button" class="btn btn-primary" value="Fetch" id="fetchbtn" >Fetch</button>
        </form>
    </div>
</body>

</html>